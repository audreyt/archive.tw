<html><meta charset="utf-8">
<style>
body, html { padding: 0; margin: 0 }
textarea { width: 100%; height: 50%; padding: 0; margin: 0 }
</style>
<textarea autofocus id="input" onchange="convert()" onkeyup="convert()" onkeydown="convert()" style="background: #ddd">
</textarea>
<br>
<textarea id="output" readonly style="background: #000; color: white">
</textarea>
<script>
function convert(){
var x = document.getElementById('input').value;

  var out, i$, ref$, len$, ln, replace$ = ''.replace;
  out = '';
  for (i$ = 0, len$ = (ref$ = x.split(/\n+/)).length; i$ < len$; ++i$) {
    ln = ref$[i$];
    if (/^###\s+/.exec(ln)) {
      out += "\n" + (replace$.call(ln, /^###\s+/, '')) + "\n";
      continue;
    }
    if (/^#\s+/.exec(ln)) {
        out += (replace$.call(ln, /^#\s+/, '')) + "\n";
      continue;
    }
    if (/^>\s+/.exec(ln)) {
        out += "\n" + (replace$.call(ln, /^>\s+/, '')) + "\n";
      continue;
    }
    if (/^[ğŸŒğŸ“…ğŸ¡]|^:::/.exec(ln)) {
	out += ln + "\n";
      continue;
    }
    if (/\S/.exec(ln))  {
	out += "    " + ln + "\n";
      continue;
    }
  }

document.getElementById('output').value = out;
}
</script>
